/*
 * Brief Helper Component Tokens
 * Extends base MRD Producer design tokens for Brief Helper interface.
 * Based on design system: docs/plans/2026-02-11-simplified-brief-helper-design-system.md
 */

/* ========================================
   Semantic Colors - AI Processing States
   ======================================== */
:root {
  --ai-processing: rgba(15, 118, 110, 0.06);
  --ai-processing-border: rgba(15, 118, 110, 0.24);
  --ai-badge: #0f766e;
  --ai-badge-bg: rgba(15, 118, 110, 0.12);
}

@media (prefers-color-scheme: dark) {
  :root {
    --ai-processing: rgba(52, 211, 153, 0.08);
    --ai-processing-border: rgba(52, 211, 153, 0.28);
    --ai-badge: #34d399;
    --ai-badge-bg: rgba(52, 211, 153, 0.16);
  }
}

/* ========================================
   Semantic Colors - Field States
   ======================================== */
:root {
  --field-complete: #16a34a;
  --field-complete-bg: rgba(22, 163, 74, 0.12);
  --field-incomplete: #94a3b8;
  --field-incomplete-bg: rgba(148, 163, 184, 0.08);
  --gap-detected: #d97706;
  --gap-detected-bg: rgba(217, 119, 6, 0.12);
}

@media (prefers-color-scheme: dark) {
  :root {
    --field-complete: #4ade80;
    --field-complete-bg: rgba(74, 222, 128, 0.16);
    --field-incomplete: #64748b;
    --field-incomplete-bg: rgba(100, 116, 139, 0.12);
    --gap-detected: #fbbf24;
    --gap-detected-bg: rgba(251, 191, 36, 0.16);
  }
}

/* ========================================
   Brief Field Container
   ======================================== */
:root {
  --brief-field-gap: var(--space-8);
  --brief-field-label-size: var(--text-sm);
  --brief-field-label-weight: var(--font-semibold);
  --brief-field-label-color: var(--text-secondary);
  --brief-field-counter-size: var(--text-xs);
  --brief-field-counter-color: var(--text-muted);
}

/* ========================================
   Smart Text Box
   ======================================== */
:root {
  --text-box-bg: var(--surface);
  --text-box-border: var(--border);
  --text-box-border-active: var(--accent);
  --text-box-border-error: var(--error);
  --text-box-radius: var(--radius);
  --text-box-padding-y: var(--space-4);
  --text-box-padding-x: var(--space-4);
  --text-box-min-height: 120px;
  --text-box-font-size: var(--text-base);
  --text-box-line-height: var(--leading-relaxed);
  --text-box-ai-bg: var(--ai-processing);
  --text-box-ai-border: var(--ai-processing-border);
  --text-box-focus-ring: 0 0 0 3px var(--accent-soft);
  --text-box-transition: border-color var(--duration-normal) var(--ease-out),
                         background-color var(--duration-normal) var(--ease-out),
                         box-shadow var(--duration-normal) var(--ease-out);
}

@media (prefers-color-scheme: dark) {
  :root {
    --text-box-ai-bg: rgba(52, 211, 153, 0.08);
    --text-box-ai-border: rgba(52, 211, 153, 0.28);
  }
}

/* ========================================
   Gap Suggestion Box
   ======================================== */
:root {
  --gap-box-bg: var(--gap-detected-bg);
  --gap-box-border: var(--gap-detected);
  --gap-box-color: var(--text-primary);
  --gap-box-icon-color: var(--gap-detected);
  --gap-box-radius: var(--radius);
  --gap-box-padding-y: var(--space-3);
  --gap-box-padding-x: var(--space-4);
  --gap-box-gap: var(--space-2);
  --gap-box-shadow: var(--shadow-sm);
}

/* ========================================
   AI Expansion Panel
   ======================================== */
:root {
  --ai-panel-bg: var(--surface);
  --ai-panel-border: var(--border);
  --ai-panel-radius: var(--radius);
  --ai-panel-padding: var(--space-6);
  --ai-panel-gap: var(--space-4);
  --ai-panel-shadow: var(--shadow-md);

  /* Message Bubbles */
  --ai-message-bg: var(--ai-badge-bg);
  --ai-message-color: var(--text-primary);
  --user-message-bg: var(--accent-soft);
  --user-message-color: var(--text-primary);

  --message-radius: var(--radius);
  --message-padding-y: var(--space-3);
  --message-padding-x: var(--space-4);
  --message-font-size: var(--text-sm);
  --message-line-height: var(--leading-relaxed);
}

/* ========================================
   Field Status Badge
   ======================================== */
:root {
  --status-badge-complete-bg: var(--field-complete-bg);
  --status-badge-complete-color: var(--field-complete);
  --status-badge-incomplete-bg: var(--field-incomplete-bg);
  --status-badge-incomplete-color: var(--field-incomplete);
  --status-badge-radius: var(--radius-full);
  --status-badge-padding-y: var(--space-1);
  --status-badge-padding-x: var(--space-3);
  --status-badge-font-size: var(--text-xs);
  --status-badge-font-weight: var(--font-semibold);
}

/* ========================================
   Progress Indicator
   ======================================== */
:root {
  --progress-height: 8px;
  --progress-label-size: var(--text-sm);
  --progress-label-weight: var(--font-medium);
  --progress-label-color: var(--text-secondary);
}

/* ========================================
   Generate Brief Button
   ======================================== */
:root {
  --btn-generate-bg: var(--accent);
  --btn-generate-hover-bg: var(--accent-strong);
  --btn-generate-color: var(--color-white);
  --btn-generate-radius: var(--radius);
  --btn-generate-padding-y: var(--space-4);
  --btn-generate-padding-x: var(--space-8);
  --btn-generate-font-size: var(--text-lg);
  --btn-generate-font-weight: var(--font-semibold);
  --btn-generate-shadow: var(--shadow-md);
  --btn-generate-shadow-hover: var(--shadow-lg);
  --btn-generate-transition: all var(--duration-normal) var(--ease-out);
}

/* ========================================
   Brief Preview Panel
   ======================================== */
:root {
  --brief-preview-bg: var(--surface);
  --brief-preview-border: var(--border);
  --brief-preview-radius: var(--radius-lg);
  --brief-preview-padding: var(--space-8);
  --brief-preview-shadow: var(--shadow-lg);
  --brief-preview-header-bg: var(--background);
  --brief-preview-header-padding: var(--space-6);

  /* Section Headers */
  --brief-section-color: var(--accent);
  --brief-section-size: var(--text-lg);
  --brief-section-weight: var(--font-bold);

  /* Content */
  --brief-content-size: var(--text-base);
  --brief-content-line-height: var(--leading-relaxed);
  --brief-content-color: var(--text-primary);
}

/* ========================================
   Component-Specific Spacing
   ======================================== */
:root {
  /* Field Container */
  --field-container-gap: var(--space-8);
  --field-internal-gap: var(--space-3);

  /* Text Box */
  --text-box-padding-y: var(--space-4);
  --text-box-padding-x: var(--space-4);
  --text-box-min-height: 120px;

  /* Gap Suggestion Box */
  --gap-suggestion-padding-y: var(--space-3);
  --gap-suggestion-padding-x: var(--space-4);
  --gap-suggestion-gap: var(--space-2);

  /* AI Expansion Panel */
  --ai-panel-padding: var(--space-6);
  --ai-panel-gap: var(--space-4);
}

/* ========================================
   Component-Specific Typography
   ======================================== */
:root {
  /* Field Labels */
  --field-label-size: var(--text-sm);
  --field-label-weight: var(--font-semibold);
  --field-label-color: var(--text-secondary);
  --field-label-spacing: var(--space-2);

  /* Field Counter */
  --field-counter-size: var(--text-xs);
  --field-counter-weight: var(--font-regular);
  --field-counter-color: var(--text-muted);

  /* AI Suggestion Text */
  --ai-suggestion-size: var(--text-sm);
  --ai-suggestion-weight: var(--font-regular);
  --ai-suggestion-line-height: var(--leading-relaxed);

  /* Brief Title */
  --brief-title-size: var(--text-2xl);
  --brief-title-weight: var(--font-bold);
  --brief-title-line-height: var(--leading-tight);
}

/* ========================================
   Animations
   ======================================== */

/* AI Processing Pulse */
@keyframes ai-processing {
  0%, 100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}

/* Gap Suggestion Slide-In */
@keyframes slide-in-down {
  from {
    opacity: 0;
    transform: translateY(-12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Slide-In from Bottom (for panels) */
@keyframes slide-in-up {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Fade In */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* ========================================
   V2: Split Layout Tokens
   ======================================== */
:root {
  /* Desktop split layout (50/50) */
  --split-left-width: 50%;
  --split-right-width: 50%;
  --split-gap: var(--space-6);

  /* Mobile stacked layout */
  --split-mobile-breakpoint: 768px;

  /* Panel transitions */
  --split-transition: width var(--duration-normal) var(--ease-out);
}

/* ========================================
   V2: Progress Bar Tokens (Character Grading)
   ======================================== */
:root {
  /* Character count thresholds */
  --progress-warning: #d97706;       /* 0-49 chars - Amber */
  --progress-warning-bg: rgba(217, 119, 6, 0.12);

  --progress-info: #3b82f6;          /* 50-99 chars - Blue */
  --progress-info-bg: rgba(59, 130, 246, 0.12);

  --progress-success: #16a34a;       /* 100-149 chars - Green */
  --progress-success-bg: rgba(22, 163, 74, 0.12);

  --progress-excellent: #059669;     /* 150+ chars - Bright Green */
  --progress-excellent-bg: rgba(5, 150, 105, 0.12);
}

@media (prefers-color-scheme: dark) {
  :root {
    --progress-warning: #fbbf24;
    --progress-warning-bg: rgba(251, 191, 36, 0.16);

    --progress-info: #60a5fa;
    --progress-info-bg: rgba(96, 165, 250, 0.16);

    --progress-success: #4ade80;
    --progress-success-bg: rgba(74, 222, 128, 0.16);

    --progress-excellent: #10b981;
    --progress-excellent-bg: rgba(16, 185, 129, 0.16);
  }
}

/* ========================================
   V2: Collapsed Field Tokens
   ======================================== */
:root {
  /* Collapsed card dimensions */
  --collapsed-field-height: 80px;
  --collapsed-field-height-mobile: 60px;
  --collapsed-field-padding-y: var(--space-3);
  --collapsed-field-padding-x: var(--space-4);
  --collapsed-field-gap: var(--space-2);

  /* Collapsed card styling */
  --collapsed-field-bg: var(--surface);
  --collapsed-field-border: var(--border);
  --collapsed-field-radius: var(--radius);
  --collapsed-field-shadow: var(--shadow-sm);

  /* Checkmark icon */
  --collapsed-checkmark-color: var(--field-complete);
  --collapsed-checkmark-bg: var(--field-complete-bg);
  --collapsed-checkmark-size: 20px;

  /* Edit button */
  --collapsed-edit-color: var(--accent);
  --collapsed-edit-hover: var(--accent-strong);

  /* Gap badge on collapsed card */
  --collapsed-gap-badge-bg: var(--gap-detected-bg);
  --collapsed-gap-badge-color: var(--gap-detected);
  --collapsed-gap-badge-size: var(--text-xs);
}

/* ========================================
   V2: Right Panel Toggle Tokens
   ======================================== */
:root {
  /* Toggle button group */
  --panel-toggle-bg: var(--background);
  --panel-toggle-border: var(--border);
  --panel-toggle-radius: var(--radius);
  --panel-toggle-padding: var(--space-1);
  --panel-toggle-gap: var(--space-1);

  /* Toggle button states */
  --toggle-btn-inactive-bg: transparent;
  --toggle-btn-inactive-color: var(--text-secondary);
  --toggle-btn-active-bg: var(--surface);
  --toggle-btn-active-color: var(--accent);
  --toggle-btn-active-shadow: var(--shadow-sm);

  /* Toggle transition */
  --toggle-transition: all var(--duration-fast) var(--ease-out);
}

/* ========================================
   V2: Loading Overlay Tokens
   ======================================== */
:root {
  /* Overlay backdrop */
  --loading-overlay-bg: rgba(255, 255, 255, 0.95);
  --loading-overlay-backdrop: rgba(0, 0, 0, 0.3);

  /* Progress checklist */
  --loading-checklist-gap: var(--space-3);
  --loading-checklist-icon-size: 20px;
  --loading-checklist-pending-color: var(--text-muted);
  --loading-checklist-active-color: var(--accent);
  --loading-checklist-complete-color: var(--field-complete);

  /* Spinner */
  --loading-spinner-color: var(--accent);
  --loading-spinner-size: 24px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --loading-overlay-bg: rgba(17, 24, 39, 0.95);
    --loading-overlay-backdrop: rgba(0, 0, 0, 0.6);
  }
}

/* ========================================
   V2: Start Page Tokens
   ======================================== */
:root {
  /* Description textarea */
  --start-textarea-min-height: 200px;
  --start-textarea-max-height: 400px;
  --start-textarea-padding-y: var(--space-6);
  --start-textarea-padding-x: var(--space-6);
  --start-textarea-font-size: var(--text-lg);
  --start-textarea-line-height: var(--leading-relaxed);

  /* Character counter */
  --start-counter-size: var(--text-sm);
  --start-counter-weight: var(--font-medium);

  /* Continue button */
  --start-continue-bg: var(--accent);
  --start-continue-hover-bg: var(--accent-strong);
  --start-continue-disabled-bg: var(--field-incomplete-bg);
  --start-continue-disabled-color: var(--text-muted);

  /* Future feature buttons (disabled) */
  --start-future-btn-bg: var(--background);
  --start-future-btn-border: var(--border);
  --start-future-btn-color: var(--text-muted);
  --start-future-btn-opacity: 0.5;
}

/* ========================================
   V2: Document Preview Tokens
   ======================================== */
:root {
  /* Preview container */
  --preview-container-bg: var(--surface);
  --preview-container-padding: var(--space-8);
  --preview-container-max-width: 800px;

  /* Preview header */
  --preview-header-bg: var(--background);
  --preview-header-padding: var(--space-6);
  --preview-header-border: var(--border);

  /* Field sections in preview */
  --preview-section-gap: var(--space-6);
  --preview-section-title-size: var(--text-lg);
  --preview-section-title-weight: var(--font-bold);
  --preview-section-title-color: var(--accent);

  /* Bullet points in preview */
  --preview-bullet-color: var(--text-primary);
  --preview-bullet-size: var(--text-base);
  --preview-bullet-line-height: var(--leading-relaxed);
  --preview-bullet-spacing: var(--space-2);
}

/* ========================================
   Reduced Motion Support
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  @keyframes ai-processing {
    0%, 100% {
      opacity: 0.8;
    }
  }

  @keyframes slide-in-down,
  @keyframes slide-in-up {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
}
